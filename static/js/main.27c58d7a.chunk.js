(this.webpackJsonpbattleships=this.webpackJsonpbattleships||[]).push([[0],{28:function(n,t,e){"use strict";e.r(t);var r=e(1),o=e(0),i=e.n(o),a=e(13),c=e.n(a),u=e(4),s=e(2),b=e(3);function d(){var n=Object(s.a)(["\n  position: absolute;\n  background-color: #222;\n  width: ",";\n  border-radius: 20px;\n  padding: 0.25em 1em;\n  border: 1px solid var(--primary-color);\n  border-bottom-left-radius: 0px;\n  color: white;\n"]);return d=function(){return n},n}function l(){var n=Object(s.a)(["\n  color: white;\n  margin: 1em;\n"]);return l=function(){return n},n}function f(){var n=Object(s.a)(["\n  background-color: var(--primary-color);\n  color: black;\n  border-radius: 3px;\n  padding: 0.5em 1em;\n  font-size: 1em;\n  margin: ",";\n  border: none;\n  cursor: pointer;\n  transition: filter 0.2s ease-out;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    filter: brightness(120%);\n  }\n"]);return f=function(){return n},n}function h(){var n=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(255, 255, 255, 0.075);\n  backdrop-filter: blur(5px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return h=function(){return n},n}function m(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media (min-width: 700px) {\n    flex-direction: row;\n  }\n"]);return m=function(){return n},n}function p(){var n=Object(s.a)(["\n  width: 25px;\n  height: 25px;\n  color: ",";\n  border: 2px solid rgba(255, 255, 255, 0);\n  background-color: ",";\n  font-size: 15px;\n  text-align: center;\n  line-height: 20px;\n  padding: 0;\n  margin: 0;\n  transition: border 0.2s ease-in;\n  user-select: none;\n  text-shadow: ",";\n  cursor: ",";\n\n  :hover {\n    border: 2px solid\n      rgba(255, 255, 255, ",");\n  }\n\n  @media (min-width: 700px) {\n    width: 30px;\n    height: 30px;\n    line-height: 25px;\n  }\n"]);return p=function(){return n},n}function g(){var n=Object(s.a)(["\n  color: var(--primary-color);\n  font-size: 1em;\n  margin-bottom: 0.15em;\n  text-shadow: 2px 2px rgba(0, 0, 0, 0.25);\n\n  @media (min-width: 700px) {\n    font-size: 1.5em;\n  }\n"]);return g=function(){return n},n}function j(){var n=Object(s.a)(["\n  table-layout: fixed;\n  width: 250px;\n  height: 250px;\n"]);return j=function(){return n},n}function x(){var n=Object(s.a)(["\n  margin: 0.5em 1.25em;\n\n  @media (min-width: 700px) {\n    margin: 1em;\n  }\n"]);return x=function(){return n},n}function v(){var n=Object(s.a)(["\n  background-color: var(--primary-color);\n  padding: 0.5em;\n  position: relative;\n  text-align: center;\n  width: 110%;\n\n  @media (min-width: 700px) {\n    padding: 0.75em;\n  }\n"]);return v=function(){return n},n}function O(){var n=Object(s.a)(["\n  background-color: #222;\n  border-radius: 10px;\n  box-shadow: 0 0 5px 3px rgba(0, 0, 0, 0.1);\n  margin: 0 auto;\n  overflow: hidden;\n  padding: 0 0.5em 0.5em 0.5em;\n  width: fit-content;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return O=function(){return n},n}function w(){var n=Object(s.a)(["\n  filter: invert(44%) sepia(91%) saturate(357%) hue-rotate(107deg)\n    brightness(95%) contrast(89%);\n  transform: scaleX(-1);\n  position: absolute;\n  top: -75%;\n  margin-left: -114px;\n\n  @media (min-width: 700px) {\n    top: -58%;\n    margin-left: -151px;\n  }\n"]);return w=function(){return n},n}function y(){var n=Object(s.a)(["\n  color: var(--primary-color);\n  font-family: 'Anton';\n  font-size: 2em;\n  letter-spacing: 5px;\n  text-shadow: 3px 3px rgba(0, 0, 0, 0.5);\n  text-transform: uppercase;\n\n  @media (min-width: 700px) {\n    font-size: 3em;\n  }\n"]);return y=function(){return n},n}function k(){var n=Object(s.a)(["\n  text-align: center;\n  padding-top: 3em;\n  margin: 0.5em 0;\n  position: relative;\n\n  @media (min-width: 700px) {\n    margin: 2em 0;\n  }\n"]);return k=function(){return n},n}function S(){var n=Object(s.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: 'Lato', roboto;\n  }\n  body {\n    background-color: #111;\n    overflow: hidden;\n  }\n  :root {\n    --primary-color: #229d71;\n  }\n"]);return S=function(){return n},n}var E=Object(b.a)(S()),A=b.b.nav(k()),H=b.b.h1(y()),z=b.b.img(w()),I=b.b.section(O()),G=b.b.div(v()),B=b.b.div(x()),L=b.b.table(j()),W=b.b.h1(g()),M=b.b.td(p(),(function(n){return n.isActive?"black":"white"}),(function(n){return n.isActive?"var(--primary-color)":n.isLabel?"":"#333"}),(function(n){return n.isLabel?"3px 3px black":""}),(function(n){return n.isInteractive?"pointer":"auto"}),(function(n){return n.isInteractive?1:0})),T=b.b.div(m()),C=b.b.div(h()),P=b.b.button(f(),(function(n){return n.margin})),N=b.b.p(l()),X=b.b.span(d(),(function(n){return n.width})),Y=function(){return Object(r.jsxs)(A,{children:[Object(r.jsx)(H,{children:"Battleships"}),Object(r.jsx)(z,{src:"https://static.thenounproject.com/png/44759-200.png",alt:"Logo"})]})},q=function(n){var t=n.title,e=n.board,o=n.receivedAttacks,i=n.clickHandler,a=n.isLabelled,c=void 0!==a&&a,u=n.isInteractive,s=void 0!==u&&u,b=n.areShipsHidden,d=void 0!==b&&b,l=function(n,t){return null===o||void 0===o?void 0:o.find((function(e){return e.x===n&&e.y===t}))},f=function(n,t){var e=l(n,t);if(e)return e.isSuccess?"X":"O"};return Object(r.jsxs)(B,{children:[Object(r.jsx)(W,{children:t}),Object(r.jsx)(L,{children:Object(r.jsxs)("tbody",{children:[c&&Object(r.jsx)("tr",{children:["","A","B","C","D","E","F","G","H","I","J"].map((function(n,t){return Object(r.jsx)(M,{isLabel:!0,children:n},t)}))}),e.map((function(n,t){return Object(r.jsxs)("tr",{children:[c&&Object(r.jsx)(M,{isLabel:!0,children:t},t),n.map((function(n,e){return Object(r.jsx)(M,{isActive:n&&!d,isInteractive:s&&!l(e,t),onClick:function(){s&&!l(e,t)&&i(e,t)},children:f(e,t)},e)}))]},t)}))]})})]})},J=e(17),F=function(n){var t=Array.from({length:n},(function(){return Array.from({length:n},(function(){return 0}))})),e=[],r=[];return{getBoard:function(){return t},getAttacks:function(){return r},place:function(r,o,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if([r,o,i].includes(void 0))throw new Error("Arguments x, y & ship are required");if("number"!==typeof r||r!==parseInt(r)||r<0||r>n-1)throw new Error("x coordinate must be an integer between 0-9");if("number"!==typeof o||o!==parseInt(o)||o<0||o>n-1)throw new Error("y coordinate must be an integer between 0-9");if(null===i||"object"!==typeof i||void 0===i.length||void 0===i.hit||void 0===i.isSunk||"number"!==typeof i.length||"function"!==typeof i.hit||"function"!==typeof i.isSunk)throw new Error("ship must be a ship object");if("boolean"!==typeof a)throw new Error("isHorizontal must be a boolean");for(var c=a&&r+i.length>n?n-i.length:r,u=a?o:o+i.length>n?n-i.length:o,s=t.map((function(n){return Object(J.a)(n)})),b=0;b<i.length;b++){if(s[u][c])throw new Error("This ship overlaps another already placed");s[u][c]=i,a?c++:u++}return t=s,e.push(i),t},receiveAttack:function(e,o){if([e,o].includes(void 0))throw new Error("Arguments x & y are required");if("number"!==typeof e||e!==parseInt(e)||e<0||e>n-1)throw new Error("x coordinate must be an integer between 0-9");if("number"!==typeof o||o!==parseInt(o)||o<0||o>n-1)throw new Error("y coordinate must be an integer between 0-9");var i=t[o][e];return"object"===typeof i?(i.hit(function(n,e,r){for(var o=0,i=0;t[e][n+o]===r;)o++;if(o>1)return r.length-o;for(;t[e+i]&&t[e+i][n]===r;)i++;return i>1?r.length-i:r.length-1}(e,o,i)),r.push({x:e,y:o,isSuccess:!0}),!0):(r.push({x:e,y:o,isSuccess:!1}),!1)},allShipsSunk:function(){return e.every((function(n){return n.isSunk()}))}}},R=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Player",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===n)throw new Error("A gameboard is required");if("Object"!==Object.prototype.toString.call(n).slice(8,-1))throw new Error("The gameboard must be an object");var r=n.getBoard,o=n.getAttacks,i=n.place,a=n.receiveAttack,c=n.allShipsSunk;if(void 0===r||void 0===o||void 0===i||void 0===a||void 0===c||"function"!==typeof r||"function"!==typeof o||"function"!==typeof i||"function"!==typeof a||"function"!==typeof c)throw new Error("gameboard must be a Gameboard object");if("string"!==typeof t)throw new Error("Player name must be a string");if("boolean"!==typeof e)throw new Error("isRobot must be a boolean");var u=[];r().forEach((function(n,t){return n.forEach((function(n,e){u.push({x:t,y:e})}))}));var s=function(n,t){var e=a(n,t);return u=u.filter((function(e){return!(e.x===n&&e.y===t)})),e},b=function(){var n=u[Math.floor(Math.random()*u.length)],t=n.x,e=n.y;return s(t,e)};return{getName:function(){return t},getType:function(){return e?"Robot":"Human"},getCells:function(){return u},getBoard:function(){return n.getBoard()},takeAttack:e?s:b}},D=function(n){if("number"!==typeof n)throw new Error("Length must be a number");if(![2,3,4,5].includes(n))throw new Error("Length can only be 2, 3, 4 or 5");var t=Array.from({length:n},(function(){return 0}));return{length:n,hit:function(e){if("number"!==typeof e)throw new Error("Position must be a number");if(e<0||e!==parseInt(e))throw new Error("Position must be a positive integer");if(e>=n)throw new Error("Position must be less than length");return t[e]=1,t},isSunk:function(){return t.reduce((function(n,t){return n+t}))===n}}},U=function(n){var t=n.size,e=n.endGame,i=n.gameboard,a=Object(o.useState)({human:null!==i&&void 0!==i?i:F(t),robot:F(t)}),c=Object(u.a)(a,2),s=c[0],b=c[1],d={human:R(s.human,"Your Waters",!1),robot:R(s.robot,"Enemy Waters",!0)},l=d.human,f=d.robot,h=Object(o.useState)(!0),m=Object(u.a)(h,2),p=m[0],g=m[1],j=Object(o.useState)({human:[],robot:[]}),x=Object(u.a)(j,2),v=x[0],O=x[1];Object(o.useEffect)((function(){[5,4,3,3,2].forEach((function(n){for(var t=!1;!t;)try{var e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random()),o=Math.random()>.5;s.robot.place(e,r,D(n),o),t=!0}catch(i){}})),b({human:s.human,robot:s.robot})}),[]);var w=function(n,t){p&&(f.takeAttack(n,t),O({human:s.human.getAttacks(),robot:s.robot.getAttacks()}),g(!1),setTimeout((function(){l.takeAttack(),O({human:s.human.getAttacks(),robot:s.robot.getAttacks()}),g(!0)}),1e3),s.human.allShipsSunk()&&e(!1),s.robot.allShipsSunk()&&e(!0))};return Object(r.jsxs)(I,{children:[Object(r.jsx)(G,{children:p?"It is your turn, fire a shot at enemy waters!":"The enemy is taking their shot!"}),Object(r.jsxs)(T,{children:[Object(r.jsx)(q,{size:t,title:l.getName(),board:s.human.getBoard(),receivedAttacks:v.human,clickHandler:w}),Object(r.jsx)(q,{size:t,title:f.getName(),board:s.robot.getBoard(),receivedAttacks:v.robot,areShipsHidden:!0,isInteractive:!0,clickHandler:w})]})]})},V=e(18),K=e(11),Q=function(n){var t=n.size,e=n.startGame,i=Object(o.useState)(F(t)),a=Object(u.a)(i,2),c=a[0],s=a[1],b=Object(o.useState)([5,4,3,3,2]),d=Object(u.a)(b,2),l=d[0],f=d[1],h=Object(o.useState)(!0),m=Object(u.a)(h,2),p=m[0],g=m[1],j=Object(o.useState)(!1),x=Object(u.a)(j,2),v=x[0],O=x[1],w=Object(o.useState)(!0),y=Object(u.a)(w,2),k=y[0],S=y[1],E=Object(o.useState)(!1),A=Object(u.a)(E,2),H=A[0],z=A[1];return Object(r.jsxs)(I,{children:[Object(r.jsx)(G,{children:"Set up your Game Board!"}),Object(r.jsx)(q,{size:t,board:c.getBoard(),isLabelled:!0,isInteractive:k,clickHandler:function(n,t){var r=Object(V.a)({},c);try{r.place(n,t,D(l[0]),p),s(r),f(l.slice(1)),1===l.length&&(S(!1),O(!0),setTimeout((function(){return e(c)}),1e3))}catch(o){z(!0),setTimeout((function(){return z(!1)}),2e3)}},areShipsHidden:!1}),Object(r.jsx)(P,{margin:"0 0 0.5em 0",onClick:function(){return g(!p)},children:p?"Vertical":"Horizontal"}),Object(r.jsx)(K.a,{visible:H,offsetX:10,offsetY:-35,children:Object(r.jsx)(X,{width:"190px",children:"Can't place ship here!"})}),Object(r.jsx)(K.a,{visible:v,offsetX:10,offsetY:-35,children:Object(r.jsx)(X,{width:"150px",children:"Game Starting!"})})]})},Z=function(n){var t=n.isHumanWinner,e=n.startGame;return Object(r.jsx)(C,{children:Object(r.jsxs)(I,{children:[Object(r.jsx)(G,{children:"Game Over"}),Object(r.jsx)(N,{children:t?"Congratulations - You are the winner!":"Unlucky - The enemy won!"}),Object(r.jsx)(P,{onClick:e,margin:"0 0 0.5em 0",children:"New Game"})]})})},$=function(){var n=Object(o.useState)({start:!0,game:!1,end:!1,gameboard:void 0,isHumanWinner:void 0}),t=Object(u.a)(n,2),e=t[0],a=t[1];return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(E,{}),Object(r.jsx)(Y,{}),e.start&&Object(r.jsx)(Q,{size:10,startGame:function(n){a({start:!1,game:!0,end:!1,gameboard:n,isHumanWinner:void 0})}}),e.game&&Object(r.jsx)(U,{size:10,endGame:function(n){a({start:!1,game:!0,end:!0,isHumanWinner:n})},gameboard:e.gameboard}),e.end&&Object(r.jsx)(Z,{isHumanWinner:e.isHumanWinner,startGame:function(){a({start:!0,game:!1,end:!1,gameboard:void 0,isHumanWinner:void 0})}})]})};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)($,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.27c58d7a.chunk.js.map